---
title: 'üö© Chap 4.2: Ba C√°ch ƒêi·ªÅu Khi·ªÉn useEffect'
publishedAt: '2020-11-19'
summary: 'useEffect r·∫•t m·∫°nh v√¨ n√≥ c√≥ th·ªÉ ch·∫°y thay 3 menthod lifeCycle Did, Will, Un. V·∫≠y ƒëi·ªÅu khi·ªÉn n√≥ nh∆∞ th·∫ø n√†o?'
image: '/static/images/chap42-ba-cach-su-dung-effect-hook/useeffect.jpg'
---

![useEffect](/static/images/chap42-ba-cach-su-dung-effect-hook/useeffect.jpg)

### 1. L√†m Sao ƒê·ªÉ Effect Ch·∫°y Theo √ù Mu·ªën C·ªßa M√¨nh? :

Nh∆∞ ƒë√£ bi·∫øt th√¨ Effect ch·∫°y m·ªói l·∫ßn re-render. ƒê√¥i l√∫c n√≥ s·∫Ω l√†m ·∫£nh h∆∞·ªüng performance c·ªßa app. Trong Class ta c√≥ chuy·ªán so s√°nh hai state prevState, prevProps v·ªõi State, Props hi·ªán t·∫°i, n·∫øu c√≥ thay ƒë·ªïi th√¨ m·ªõi render kh√¥ng th√¨ th√¥i.

```jsx
componentDidUpdate(prevProps,prevState) {
  if (prevState.count !== this.state.count) {
    document.title = `You clicked ${this.state.count} times`;
  }
}
```

B√™n hook c·ªßa m√¨nh c≈©ng c√≥ th·ªÉ l√†m ƒë∆∞·ª£c v·∫≠y , th√™m v√†o 1 ƒë·ªëi s·ªë v√†o `[ ]` n·ªØa :

```jsx
useEffect(() => {
  document.title = `You clicked ${count} times`;
}, [count]); // Ch·ªâ re-run effect n·∫øu gi√° tr·ªã count thay ƒë·ªïi
```

![](/static/images/chap42-ba-cach-su-dung-effect-hook/sumaryEffect.png)

**T√©n t√©n t√©n ten, b√≠ thu·∫≠t ·ªü ƒë√¢y `[count]` , effect ch·ªâ ch·∫°y l·∫°i khi gi√° tr·ªã count thay ƒë·ªïi.**

- N·∫øu count l√† 5 v√† l·∫ßn sau count v·∫´n l√† 5 th√¨ n√≥ s·∫Ω kh√¥ng ch·∫°y Effect.
- B√π l·∫°i n·∫øu c√≥ g√¨ thay ƒë·ªïi count l√™n 6 hay c√≥ gi√° tr·ªã kh√°c th√¨ n√≥ l·∫≠p t·ª©c ch·∫°y Effect ngay. ƒê√≥ l√† tham s·ªë th·ª© 2 c·ªßa useEffect.

**N·∫øu c√≥ CleanUp th√¨ c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng tham s·ªë th·ª© hai nh∆∞ tr√™n.**

- **V·∫≠y n·∫øu mu·ªën effect ch·ªâ ch·∫°y 1 l·∫ßn duy nh·∫•t th√¨ sao? :**
  Th·∫ø th√¨ kh√¥ng c·∫ßn truy·ªÅn g√¨ c·∫£ ch·ªâ c·∫ßn ƒë·ªÉ m·ªôt m·∫£ng r·ªóng.
  C√°i ƒë·ªì qu·ª∑ n√†y [] ƒë·ªìng nghƒ©a v·ªõi vi·ªác b·∫°n b√°o v·ªõi React, effect n√†y kh√¥ng ph·ª• thu·ªôc b·∫•t k·ª≥ gi√° tr·ªã n√†o c·ªßa prop ho·∫∑c state, do ƒë√≥ kh√¥ng bao gi·ªù c·∫ßn re-run.

### 2. T√≥m L·∫°i C√°c Tr∆∞·ªùng H·ª£p:

** 2.1. Ch·∫°y c√≥ ƒëi·ªÅu ki·ªán: **

```jsx
useEffect(() => {
  document.title = `You clicked ${count} times`;
}, [count]); // Ch·ªâ re-run effect n·∫øu gi√° tr·ªã count thay ƒë·ªïi
```

** 2.2. Ch·∫°y 1 l·∫ßn duy nh·∫•t:**

```jsx
useEffect(() => {
  document.title = `You clicked ${count} times`;
}, []); // Effect ch·ªâ ch·∫°y 1 l·∫ßn duy nh·∫•t.
```

**3. Ch·∫°y V√¥ T·ªôi V·∫°, Re-run L√† Ch·∫°y:**

```jsx
useEffect(() => {
  document.title = `You clicked ${count} times`;
}); // Effect ch·∫°y v√¥ t·ªôi v·∫° , ch·ªâ c·∫ßn re-run l√† ch·∫°y b·∫•t ch·∫•p.
```

R√πi, h·∫øt r·ªìi, Effect hook c√≥ nhiu c∆° b·∫£n th√¥i, ƒë√†o s√¢u th√¨ c√°c b·∫°n l√™n [reactjs.org](https://reactjs.org/docs/hooks-effect.html) m√† xem th√™m. C·∫£m ∆°n m·ªçi ng∆∞·ªùi r·∫•t nhi·ªÅu.
